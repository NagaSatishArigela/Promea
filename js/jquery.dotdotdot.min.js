!function(g,e){function c(n,o,r,a,i){var d=!1;return n.contents().detach().each(function(){var t=this,e=g(t);if(void 0===t)return!0;if(e.is("script, .dotdotdot-keep"))n.append(e);else{if(d)return!0;n.append(e),!i||e.is(a.after)||e.find(a.after).length||n[n.is("a, table, thead, tbody, tfoot, tr, col, colgroup, object, embed, param, ol, ul, dl, blockquote, select, optgroup, option, textarea, script, style")?"after":"append"](i),w(r,a)&&(d=(3==t.nodeType?function(t,e,n,o,r){var a=t[0];if(!a)return!1;var i=m(a),d=-1!==i.indexOf(" ")?" ":"　",l="letter"==o.wrap?"":d,s=i.split(l),c=-1,u=-1,h=0,f=s.length-1;for(o.fallbackToLetter&&0==h&&0==f&&(l="",s=i.split(l),f=s.length-1);h<=f&&(0!=h||0!=f);){var p=Math.floor((h+f)/2);if(p==u)break;u=p,b(a,s.slice(0,u+1).join(l)+o.ellipsis),n.children().each(function(){g(this).toggle().toggle()}),w(n,o)?(f=u,o.fallbackToLetter&&0==h&&0==f&&(l="",s=s[0].split(l),u=c=-1,h=0,f=s.length-1)):h=c=u}-1==c||1==s.length&&0==s[0].length?(d=t.parent(),t.detach(),t=r&&r.closest(d).length?r.length:0,d.contents().length>t?a=y(d.contents().eq(-1-t),e):(a=y(d,e,!0),t||d.detach()),a&&(i=v(m(a),o),b(a,i),t&&r)&&(t=r.parent(),g(a).parent().append(r),g.trim(t.html())||t.remove())):(i=v(s.slice(0,c+1).join(l),o),b(a,i));return!0}:c)(e,o,r,a,i)),d||i&&i.detach()}}),o.addClass("is-truncated"),d}function w(t,e){return t.innerHeight()>e.maxHeight}function v(t,e){for(;-1<g.inArray(t.slice(-1),e.lastCharacter.remove);)t=t.slice(0,-1);return g.inArray(t.slice(-1),e.lastCharacter.noEllipsis)<0&&(t+=e.ellipsis),t}function u(t){return{width:t.innerWidth(),height:t.innerHeight()}}function b(t,e){t.innerText?t.innerText=e:t.nodeValue?t.nodeValue=e:t.textContent&&(t.textContent=e)}function m(t){return t.innerText||t.nodeValue||t.textContent||""}function a(t){for(;t=t.previousSibling,t&&1!==t.nodeType&&3!==t.nodeType;);return t}function y(t,e,n){var o,r=t&&t[0];if(r){if(!n){if(3===r.nodeType)return r;if(g.trim(t.text()))return y(t.contents().last(),e)}for(o=a(r);!o;){if((t=t.parent()).is(e)||!t.length)return!1;o=a(t[0])}if(o)return y(g(o),e)}return!1}var h,n,o;g.fn.dotdotdot||(g.fn.dotdotdot=function(t){if(0==this.length)return g.fn.dotdotdot.debug('No element found for "'+this.selector+'".'),this;if(1<this.length)return this.each(function(){g(this).dotdotdot(t)});var o=this,n=o.contents();o.data("dotdotdot")&&o.trigger("destroy.dot"),o.data("dotdotdot-style",o.attr("style")||""),o.css("word-wrap","break-word"),"nowrap"===o.css("white-space")&&o.css("white-space","normal"),o.bind_events=function(){return o.bind("update.dot",function(t,e){switch(o.removeClass("is-truncated"),t.preventDefault(),t.stopPropagation(),typeof a.height){case"number":a.maxHeight=a.height;break;case"function":a.maxHeight=a.height.call(o[0]);break;default:a.maxHeight=function(t){for(var e=t.innerHeight(),n=["paddingTop","paddingBottom"],o=0,r=n.length;o<r;o++){var a=parseInt(t.css(n[o]),10);isNaN(a)&&(a=0),e-=a}return e}(o)}a.maxHeight+=a.tolerance,void 0!==e&&(("string"==typeof e||"nodeType"in e&&1===e.nodeType)&&(e=g("<div />").append(e).contents()),e instanceof g&&(n=e)),(s=o.wrapInner('<div class="dotdotdot" />').children()).contents().detach().end().append(n.clone(!0)).find("br").replaceWith("  <br />  ").end().css({height:"auto",width:"auto",border:"none",padding:0,margin:0});t=!1,e=!1;return i.afterElement&&((t=i.afterElement.clone(!0)).show(),i.afterElement.detach()),w(s,a)&&(e="children"==a.wrap?function(t,e,n){var o=t.children(),r=!1;t.empty();for(var a=0,i=o.length;a<i;a++){var d=o.eq(a);if(t.append(d),n&&t.append(n),w(t,e)){d.remove(),r=!0;break}n&&n.detach()}return r}(s,a,t):c(s,o,s,a,t)),s.replaceWith(s.contents()),s=null,g.isFunction(a.callback)&&a.callback.call(o[0],e,n),i.isTruncated=e}).bind("isTruncated.dot",function(t,e){return t.preventDefault(),t.stopPropagation(),"function"==typeof e&&e.call(o[0],i.isTruncated),i.isTruncated}).bind("originalContent.dot",function(t,e){return t.preventDefault(),t.stopPropagation(),"function"==typeof e&&e.call(o[0],n),n}).bind("destroy.dot",function(t){t.preventDefault(),t.stopPropagation(),o.unwatch().unbind_events().contents().detach().end().append(n).attr("style",o.data("dotdotdot-style")||"").removeClass("is-truncated").data("dotdotdot",!1)}),o},o.unbind_events=function(){return o.unbind(".dot"),o},o.watch=function(){var t,e,n;return o.unwatch(),"window"==a.watch?(t=g(window),e=t.width(),n=t.height(),t.bind("resize.dot"+i.dotId,function(){e==t.width()&&n==t.height()&&a.windowResizeFix||(e=t.width(),n=t.height(),l&&clearInterval(l),l=setTimeout(function(){o.trigger("update.dot")},100))})):(d=u(o),l=setInterval(function(){var t;o.is(":visible")&&(t=u(o),d.width==t.width&&d.height==t.height||(o.trigger("update.dot"),d=t))},500)),o},o.unwatch=function(){return g(window).unbind("resize.dot"+i.dotId),l&&clearInterval(l),o};var e,r,a=g.extend(!0,{},g.fn.dotdotdot.defaults,t),i={},d={},l=null,s=null;return a.lastCharacter.remove instanceof Array||(a.lastCharacter.remove=g.fn.dotdotdot.defaultArrays.lastCharacter.remove),a.lastCharacter.noEllipsis instanceof Array||(a.lastCharacter.noEllipsis=g.fn.dotdotdot.defaultArrays.lastCharacter.noEllipsis),i.afterElement=(e=a.after,r=o,!!e&&("string"==typeof e?!!(e=g(e,r)).length&&e:!!e.jquery&&e)),i.isTruncated=!1,i.dotId=h++,o.data("dotdotdot",!0).bind_events().trigger("update.dot"),a.watch&&o.watch(),o},g.fn.dotdotdot.defaults={ellipsis:"... ",wrap:"word",fallbackToLetter:!0,lastCharacter:{},tolerance:0,callback:null,after:null,height:null,watch:!1,windowResizeFix:!0},g.fn.dotdotdot.defaultArrays={lastCharacter:{remove:[" ","　",",",";",".","!","?"],noEllipsis:[]}},g.fn.dotdotdot.debug=function(t){},h=1,n=g.fn.html,g.fn.html=function(t){return t!=e&&!g.isFunction(t)&&this.data("dotdotdot")?this.trigger("update",[t]):n.apply(this,arguments)},o=g.fn.text,g.fn.text=function(t){return t!=e&&!g.isFunction(t)&&this.data("dotdotdot")?(t=g("<div />").text(t).html(),this.trigger("update",[t])):o.apply(this,arguments)})}(jQuery),jQuery(document).ready(function(r){r(".dot-ellipsis").each(function(){var t=r(this).hasClass("dot-resize-update"),e=r(this).hasClass("dot-timer-update"),n=0,o=r(this).attr("class").split(/\s+/);r.each(o,function(t,e){e=e.match(/^dot-height-(\d+)$/);null!==e&&(n=Number(e[1]))});o=new Object;e&&(o.watch=!0),t&&(o.watch="window"),0<n&&(o.height=n),r(this).dotdotdot(o)})}),jQuery(window).on("load",function(){jQuery(".dot-ellipsis.dot-load-update").trigger("update.dot")});